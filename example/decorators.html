<!DOCTYPE html>
<html>
  <head>
    <title>Hello, World!</title>
    <script src="../bin/traceur.js"></script>
    <script src="../src/bootstrap.js"></script>
    <script>
      traceur.options.decorators = true;
    </script>
  </head>
  <body>
    <script type="text/traceur">
      var ng = {

        directive: function(meta, selector) {
          console.log('directive: ' + selector, meta);
        },

        inject: function(meta) {
          console.log('inject: ', meta);
        },

        mapAttr: function(meta, attrName) {
          console.log('mapAttr: ' + attrName, meta);
          return {
            asExpr: function() {
              console.log('asExpr');
            }
          };
        }

      };

      @ng.directive('[ng-bind]')
      class Foo {
       @ng.inject
       constructor(a, b) {
         this.foo = 'abc';
         return
       }

       helloWorld(element) {
        element.textContent = 'Hello from ' + this.name;
       }

       @ng.mapAttr('test').asExpr()
       get name() {
        return 'Foo';
       }
      
      }

      @ng.directive('[ng-bind]')
      function abc() {
      }

      @ng.directive('[ng-bind]')
      export class Foo2 {
       @ng.inject
       constructor(a, b) {
         this.foo = 'abc';
         return
       }
       
       @ng.mapAttr('test')
       static helloWorld(element) {
        element.textContent = 'Hello from Foo2';
       }

      }
      new Foo().helloWorld(document.getElementById('message1'));
      Foo2.helloWorld(document.getElementById('message2'));
    </script>
    <h1 id="message1"></h1>
    <h1 id="message2"></h1>
  </body>
</html>