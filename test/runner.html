<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" href="../node_modules/mocha/mocha.css">
<script src="../node_modules/mocha/mocha.js"></script>
<script src="../node_modules/chai/chai.js"></script>
<script src="../bin/traceur.js"></script>
<script src="test-utils.js"></script>
<script src="test-list.js"></script>
<script>

mocha.setup({ui: 'tdd'});

</script>
<script src="unit/codegeneration/PlaceholderParser.traceur.js" type="text/traceur"></script>
<script src="unit/codegeneration/SourceMap.js"></script>
<script src="unit/codegeneration/low_level_tests.js"></script>
<script src="unit/codegeneration/writer.js"></script>
<script src="unit/runtime/modules.js"></script>
<script src="unit/semantics/FreeVariableChecker.traceur.js" type="text/traceur"  ></script>
<script src="unit/semantics/VariableBinder.js"></script>
<script src="unit/syntax/LineNumbers.js"></script>
<script src="unit/syntax/ParseTreeValidator.js"></script>
<script src="unit/syntax/Token.js"></script>
<script src="unit/syntax/parser.js"></script>
<script src="unit/system/Hello.js"></script>
<script src="unit/util/ErrorReporter.js"></script>
<script src="unit/util/url.js"></script>
<div id="mocha"></div>
<script>

(function() {
  'use strict';

  function optionsOnURL() {
    var params = window.location.search.substring(1);
    var nameValuePairs = params.split('&');
    var options = {};
    nameValuePairs.forEach(function(pair){
      var segments = pair.split('=');
      options[segments[0]] = segments[1];
    });
    return options;
  }

  var loader = new traceur.modules.internals.InternalLoader.FileLoader;
  var urlOptions = optionsOnURL();

  featureSuite(testList, loader, urlOptions);

  new traceur.WebPageProject(document.location.href).run(function() {
    mocha.run();
  });

})();

</script>
